package com.firzzle.llm.prompt;

import org.springframework.stereotype.Component;

@Component
public class SummaryPrompt {    
    public String createInstruction() {
        return """
		당신은 영상 대화 텍스트를 정리하는 전문가입니다.
		
		🛠️ 작업 목표:
		- 자막 내용을 의미 단위로 분리하여 대주제들을 1개에서 6개로나누고,
		- 각 대주제는 해당 구간이 시작된 절대 초 단위 시간값을 `"time"` 필드에 정확히 입력하세요.
		- 확실하게 의미 구분이 가능한 구간으로 나누세요. 
		- 하나의 구간이 너무 짧으면 안 돼
		
		📌 반드시 지켜야 할 시간 규칙:
		- `"time"` 값은 반드시 자막 내용 중 실제 등장하는 타임스탬프(초 단위)와 일치해야 합니다.
		- `"time": "0"`처럼 통일하거나, 상대 시간처럼 쓰지 마세요.
		- `"time": "00:00:00"` 혹은 `"00"` 같은 포맷은 절대 사용하지 마세요.
		- 자막 시작 시점이 "0"라면, 첫 대주제는 `"time": "0"`로 시작해야 합니다.
		
		📝 출력 형식 (아래 구조 그대로):
		```json
		[
		  {
		    "majorTopic": "대주제 제목 1",
		    "time": "0"
		  },
		  {
		    "majorTopic": "대주제 제목 2",
		    "time": "1073"
		  },
		  ...
		]
		
		※ 지침:
		- 시간 흐름을 기준으로 나누되, 어느 한쪽에 치우치지 마세요.
		- 각 대주제는 자연스럽고 핵심을 담은 한 줄 제목으로 작성하세요.
		- 출력은 JSON 형식만 작성하고, 다른 설명은 쓰지 마세요.

        """;
    }

    public String createInstruction2() {

		return """
		당신은 영상 자막 데이터를 바탕으로 학습 콘텐츠를 자동 생성하는 AI입니다.
		
		🧠 작업 목표:
		아래 두 개의 대주제 구간 자막을 분석하여, **각 대주제별**로 다음 항목을 생성하세요:
		
		---
		1. timelineStructured
		   - 이 대주제 구간을 1개 이상의 소주제로 나눠 정리합니다.
		   - 각 소주제는 다음 항목으로 구성됩니다:
		     - "title": 해당 구간의 핵심 소제목 (직관적이고 간결하게)
		     - "time": 해당 소주제의 시작 시각 (예: "4620") → 반드시 초 단위 문자열 사용
		     - "summary": 전체 내용을 2~3문장으로 압축 요약 (잘 아는 사람이 빠르게 훑어볼 수준)
		     - "fullText": 전체 내용을 빠짐없이 정리한 개조식 항목 리스트
		       - 핵심 주장, 근거, 예시, 보충설명 등을 포함해 **초등학생도 이해 가능할 정도로 자세히**
		       - 반복 표현은 제거하고, 문장은 자연스럽고 깔끔하게 구성
		
		---
		2. oxQuiz
		   - 이 대주제에서 가장 중요한 내용을 바탕으로 OX 문제 1개를 만드세요.
		     - problem: 문제 내용
		     - answer: "O" 또는 "X"
		     - timestamp: 관련된 자막 시작 시각 (초 단위 문자열)
		     - explanation: 해당 정답의 근거가 되는 간단한 해설
		
		---
		3. descriptiveQuiz
		   - 이 대주제와 관련된 서술형 문제 1개와 예시 정답을 작성하세요.
		     - question: 열린 질문 형태의 문제
		     - answer: 반드시 2~3문장 이상의 구체적이고 자연스러운 서술형 정답
		
		---
		📦 출력은 **각 대주제마다 하나의 JSON 객체로 묶어서** 아래 구조를 반복 출력하세요:
		
		```json
		{
		  "majorTopic": "대주제 제목",
		  "timelineStructured": [
		    {
		      "title": "소주제 A",
		      "time": "4620",
		      "summary": "2~3문장 압축 요약",
		      "fullText": [
		        "핵심 주장 설명",
		        "예시 및 배경 설명",
		        "결론 및 메시지"
		      ]
		    },
		    {
		      "title": "소주제 B",
		      "time": "4700",
		      "summary": "다른 소주제의 요약",
		      "fullText": [
		        "구체적 근거",
		        "핵심 메시지"
		      ]
		    }
		  ],
		  "oxQuiz": {
		    "problem": "OX 문제 문장",
		    "answer": "X",
		    "timestamp": "4710",
		    "explanation": "정답의 텍스트 기반 해설"
		  },
		  "descriptiveQuiz": {
		    "question": "서술형 문제",
		    "answer": "예시 답변 (2~3문장 이상)"
		  }
		},
	    ....
	    ```
        """;
    }
}
